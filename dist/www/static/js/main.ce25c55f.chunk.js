(this.webpackJsonpgrocer=this.webpackJsonpgrocer||[]).push([[0],{105:function(e,t,c){},106:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(1),n=c.n(r),s=c(27),i=c.n(s),o=(c(80),c(81),c(124)),l=c(134),d=c(9),j=c(123),u=c(125),b=c(73),O=c(126),p=c(11),h=c(14),x=c.n(h),m=c(16),f=c(70),g=c.n(f),S="GET_ALL_CATEGORIES_REQUEST",E="GET_ALL_CATEGORIES_SUCCESS",y="GET_ALL_CATEGORIES_FAILURE",v="ADD_NEW_CATEGORY_REQUEST",_="ADD_NEW_CATEGORY_SUCCESS",R="ADD_NEW_CATEGORY_FAILURE",D="GET_PRODUCTS_BY_SLUG_REQUEST",C="GET_PRODUCTS_BY_SLUG",k="GET_PRODUCTS_BY_SLUG_FAILURE",I="LOGIN_REQUEST",T="LOGIN_FAILURE",A="LOGIN_SUCCESS",U="LOGOUT_REQUEST",N="LOGOUT_SUCCESS",w="LOGOUT_FAILURE",L="SIGNUP_REQUEST",G="SIGNUP_SUCCESS",F="SIGNUP_FAILURE",P="ADD_TO_CART_REQUEST",q="ADD_TO_CART_SUCCESS",Q="ADD_TO_CART_FAILURE",M="RESET_CART",z="REMOVE_CART_ITEM_REQUEST",H="REMOVE_CART_ITEM_SUCCESS",B="REMOVE_CART_ITEM_FAILURE",Y={GET_USER_ADDRESS_REQUEST:"GET_USER_ADDRESS_REQUEST",GET_USER_ADDRESS_SUCCESS:"GET_USER_ADDRESS_SUCCESS",GET_USER_ADDRESS_FAILUE:"GET_USER_ADDRESS_FAILURE",ADD_USER_ADDRESS_REQUEST:"ADD_USER_ADDRESS_REQUEST",ADD_USER_ADDRESS_SUCCESS:"ADD_USER_ADDRESS_SUCCESS",ADD_USER_ADDRESS_FAILUE:"ADD_USER_ADDRESS_FAILURE",ADD_USER_ORDER_REQUEST:"ADD_USER_ORDER_REQUEST",ADD_USER_ORDER_SUCCESS:"ADD_USER_ORDER_SUCCESS",ADD_USER_ORDER_FAILUE:"ADD_USER_ORDER_FAILURE",GET_USER_ORDER_REQUEST:"GET_USER_ORDER_REQUEST",GET_USER_ORDER_SUCCESS:"GET_USER_ORDER_SUCCESS",GET_USER_ORDER_FAILUE:"GET_USER_ORDER_FAILURE",GET_USER_ORDER_DETAILS_REQUEST:"GET_USER_ORDER_DETAILS_REQUEST",GET_USER_ORDER_DETAILS_SUCCESS:"GET_USER_ORDER_DETAILS_SUCCESS",GET_USER_ORDER_DETAILS_FAILURE:"GET_USER_ORDER_DETAILS_FAILURE"},W=c(32),J=c(4),V=c(47),K=c(57),X={categories:[],loading:!1,error:null},Z=function e(t,c,a){var r=[];if(void 0==t)return[].concat(Object(K.a)(c),[{_id:a._id,name:a.name,slug:a.slug,categoryImage:a.categoryImage,children:[]}]);var n,s=Object(V.a)(c);try{for(s.s();!(n=s.n()).done;){var i=n.value;i._id==t?r.push(Object(J.a)(Object(J.a)({},i),{},{children:i.children?e(t,[].concat(Object(K.a)(i.children),[{_id:a._id,name:a.name,slug:a.slug,parentId:a.parentId,categoryImage:a.categoryImage,children:a.children}]),a):[]})):r.push(Object(J.a)(Object(J.a)({},i),{},{children:i.children?e(t,i.children,a):[]}))}}catch(o){s.e(o)}finally{s.f()}return r},$={products:[],loading:!1},ee={token:null,user:{firstName:"",lastName:"",email:"",picture:""},authenticate:!1,authenticating:!1,loading:!1,error:"",message:""},te={cartItems:{},updatingCart:!1,error:null},ce={address:[],orders:[],orderDetails:{},error:null,loading:!1,orderFetching:!1,placedOrderId:null},ae=Object(W.combineReducers)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case E:e=Object(J.a)(Object(J.a)({},e),{},{categories:t.payload.categories,loading:!1});break;case v:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1});break;case _:var c=t.payload.category,a=Z(c.parentId,e.categories,c);console.log(a),e=Object(J.a)(Object(J.a)({},e),{},{categories:a,loading:!1});break;case R:e=Object(J.a)({},X)}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case C:e=Object(J.a)(Object(J.a)({},e),{},{products:t.payload.products,loading:!1});break;case k:e=Object(J.a)({},$)}return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case I:e=Object(J.a)(Object(J.a)({},e),{},{authenticating:!0,loading:!0});break;case A:e=Object(J.a)(Object(J.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1,loading:!1});break;case T:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1});break;case U:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case N:e=Object(J.a)({},ee);break;case w:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1});break;case L:e={loading:!0};break;case G:e={loading:!1};break;case F:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1})}return e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:e=Object(J.a)(Object(J.a)({},e),{},{updatingCart:!0});break;case q:e=Object(J.a)(Object(J.a)({},e),{},{cartItems:t.payload.cartItems,updatingCart:!1});break;case Q:e=Object(J.a)(Object(J.a)({},e),{},{updatingCart:!1,error:t.payload.error})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.GET_USER_ADDRESS_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case Y.GET_USER_ADDRESS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{address:t.payload.address,loading:!1});break;case Y.GET_USER_ADDRESS_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:t.payload.error});break;case Y.ADD_USER_ADDRESS_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case Y.ADD_USER_ADDRESS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{address:t.payload.address,loading:!1});break;case Y.ADD_USER_ADDRESS_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:t.payload.error});break;case Y.GET_USER_ORDER_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{orderFetching:!0});break;case Y.GET_USER_ORDER_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{orders:t.payload.orders,orderFetching:!1});break;case Y.GET_USER_ORDER_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,orderFetching:!1});break;case Y.GET_USER_ORDER_DETAILS_REQUEST:break;case Y.GET_USER_ORDER_DETAILS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{orderDetails:t.payload.order});break;case Y.GET_USER_ORDER_DETAILS_FAILURE:break;case Y.ADD_USER_ORDER_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{placedOrderId:t.payload.order._id})}return e}}),re=c(71),ne=c(72),se=Object(W.createStore)(ae,Object(re.composeWithDevTools)(Object(W.applyMiddleware)(ne.a))),ie=function(e){return"http://143.110.253.141/public/".concat(e)},oe=window.localStorage.getItem("token"),le=g.a.create({baseURL:"http://143.110.253.141/api",headers:{Authorization:oe?"Bearer ".concat(oe):""}});le.interceptors.request.use((function(e){var t=se.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e}));var de=le,je=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.next=3,de.get("category/getcategory");case 3:c=e.sent,console.log(c),200===c.status?(a=c.data.categoryList,t({type:E,payload:{categories:a}})):t({type:y,payload:{error:c.data.error}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue=(c(105),function(e){var t=Object(p.c)((function(e){return e.category})),c=Object(p.b)();Object(r.useEffect)((function(){c(je())}),[]);var n=Object(r.useState)(!1),s=Object(d.a)(n,2),i=s[0],l=s[1];return Object(a.jsx)(o.a,{fluid:!0,className:"drop__down",children:Object(a.jsxs)("div",{className:"text-center",style:{padding:"4px"},children:[Object(a.jsx)(u.a,{className:"btn__margin",onClick:function(){return l(!i)},"aria-controls":"example-fade-text","aria-expanded":i,children:"Shop By Category \u25bc"}),Object(a.jsx)(b.a,{in:i,children:Object(a.jsx)(O.a,{className:"justify-content-md-center",children:t.categories.length>0?function(e){if(e)return e.map((function(e){return Object(a.jsx)(j.a,{sm:6,md:4,lg:!0,xs:6,children:Object(a.jsx)("a",{href:"/product/".concat(e.slug),children:e.name})})}))}(t.categories):null})})]})})}),be=c(19),Oe=c(135),pe=c(133),he=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(De,{}),Object(a.jsx)("div",{style:{marginTop:"75px"}}),e.children]})},xe=c(29),me=c(132),fe=function(e){return Object(a.jsxs)(me.a,Object(J.a)(Object(J.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(me.a.Header,{closeButton:!0,children:Object(a.jsx)(me.a.Title,{id:"contained-modal-title-vcenter",children:e.modalTitle})}),Object(a.jsx)(me.a.Body,{children:e.children}),Object(a.jsx)(me.a.Footer,{children:Object(a.jsx)(u.a,{onClick:e.onHide,children:"Close"})})]}))},ge=(c(106),function(e){var t=Object(r.useState)(""!==e.value),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],j=o[1];return Object(a.jsxs)("div",{className:"materialInput",children:[Object(a.jsx)("label",{className:"label ".concat(n?"focus":""),style:{top:0,lineHeight:"none"},children:e.label&&"".concat(e.label)}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{className:"input",type:e.type,value:e.value,onChange:e.onChange,readOnly:e.readOnly,error:e.error,onFocus:function(e){s(!0),j(!0)},onBlur:function(e){""===e.target.value?s(!1):j(!1)}}),e.rightElement?e.rightElement:null]}),l&&Object(a.jsx)("div",{style:{fontSize:"10px",color:"red",fontWeight:500},children:"".concat(e.error)})]})}),Se=function(e){return Object(a.jsx)("div",{style:Object(J.a)({width:"100%"},e.style),children:Object(a.jsxs)("button",{className:"materialButton",style:{backgroundColor:e.bgColor,color:e.textColor,fontSize:e.fontSize},onClick:function(){e.onClick&&e.onClick()},children:[e.icon&&e.icon,e.title&&e.title]})})},Ee=function(e){return Object(a.jsx)("div",{className:"breed",children:Object(a.jsx)("ul",{children:e.breed&&e.breed.map((function(t,c){return Object(a.jsxs)("li",{children:[Object(a.jsx)(be.b,{to:t.href,children:t.name}),e.breedIcon]},c)}))})})},ye=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var a,r,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:L}),t.next=4,de.post("/signup",e);case 4:201===(a=t.sent).status?(console.log("res",a.data),c({type:G}),r=a.data,n=r.token,s=r.user,localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),c({type:A,payload:{token:n,user:s}})):(i=a.data.error,c({type:F,payload:{error:i}})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),o=t.t0.response.data,c({type:F,payload:{error:o.error}});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var a,r,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:I}),t.next=4,de.post("/signin",Object(J.a)({},e));case 4:200===(a=t.sent).status?(r=a.data,n=r.token,s=r.user,localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),c({type:A,payload:{token:n,user:s}})):(i=a.data.error,c({type:F,payload:{error:i}})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),o=t.t0.response.data,c({type:T,payload:{error:o.error}});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:P}),e.next=4,de.post("/user/getCartItems");case 4:200===(c=e.sent).status&&(a=c.data.cartItems,console.log({getCartItems:a}),a&&t({type:q,payload:{cartItems:a}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var c=Object(m.a)(x.a.mark((function c(a){var r,n,s,i,o,l;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=se.getState(),n=r.cart.cartItems,s=r.auth,i=n[e._id]?parseInt(n[e._id].qty+t):1,n[e._id]=Object(J.a)(Object(J.a)({},e),{},{qty:i}),!s.authenticate){c.next=14;break}return a({type:P}),o={cartItems:[{product:e._id,quantity:i}]},console.log(o),c.next=9,de.post("/user/cart/addtocart",o);case 9:l=c.sent,console.log(l),201===l.status&&a(_e()),c.next=15;break;case 14:localStorage.setItem("cart",JSON.stringify(n));case 15:console.log("addToCart::",n),a({type:q,payload:{cartItems:n}});case 17:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},De=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(r.useState)(!1),O=Object(d.a)(b,2),h=O[0],f=O[1],g=Object(r.useState)(!1),S=Object(d.a)(g,2),E=S[0],y=S[1],v=Object(r.useState)(!1),_=Object(d.a)(v,2),R=_[0],D=_[1],C=Object(r.useState)(""),k=Object(d.a)(C,2),I=k[0],T=k[1],A=Object(r.useState)(""),w=Object(d.a)(A,2),L=w[0],G=w[1],F=Object(r.useState)(null),P=Object(d.a)(F,2),q=(P[0],P[1],Object(p.c)((function(e){return e.auth}))),Q=Object(p.c)((function(e){return e.cart})),z=Object(p.b)(),H=Object(r.useState)(!1),B=Object(d.a)(H,2),Y=(B[0],B[1],Object(r.useState)("")),W=Object(d.a)(Y,2),J=(W[0],W[1]);return Object(r.useEffect)((function(){q.authenticate&&f(!1)}),[q.authenticate]),Object(a.jsx)(Oe.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",variant:"dark",style:{zIndex:1,display:"flex",backgroundColor:"#2874f0"},children:Object(a.jsxs)(o.a,{fluid:!0,children:[Object(a.jsx)(fe,{show:R,onHide:function(){return D(!1)},modalTitle:"ACCOUNT DETAILS",children:Object(a.jsxs)("div",{style:{lineHeight:"20px"},children:[Object(a.jsxs)("h5",{children:["Name :",q.user.fullName]}),Object(a.jsxs)("h5",{children:["Email :",q.user.email]}),Object(a.jsx)("a",{onClick:function(){D(!1),z(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:U}),localStorage.clear(),t({type:N}),t({type:M});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})}),Object(a.jsx)(fe,{show:h,onHide:function(){return f(!1)},modalTitle:E?"Register":"Login",children:Object(a.jsxs)("div",{style:{padding:"0px 5px"},children:[Object(a.jsx)("div",{children:J}),E&&Object(a.jsx)(ge,{type:"text",label:"First Name",error:"",value:I,onChange:function(e){return T(e.target.value)}}),E&&Object(a.jsx)(ge,{type:"text",label:"Last Name",error:"",value:L,onChange:function(e){return G(e.target.value)}}),Object(a.jsx)(ge,{type:"email",label:"Email Address",value:n,error:"",onChange:function(e){return s(e.target.value)}}),Object(a.jsx)(ge,{type:"password",label:"Password",error:"",value:j,onChange:function(e){return u(e.target.value)}}),Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[q.error&&Object(a.jsx)("div",{style:{color:"red",fontSize:12},children:q.error}),q.loading&&Object(a.jsx)("div",{children:"loading...."}),Object(a.jsx)(Se,{title:E?"REGISTER":"LOGIN",onClick:function(){E?function(){var e={firstName:I,lastName:L,email:n,password:j};console.log(e),z(ye(e))}():z(ve({email:n,password:j}))}})]}),E?null:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{children:"New Customer"}),Object(a.jsx)("button",{onClick:function(){return y(!0)},children:"create new account"})]})]})}),Object(a.jsx)(pe.a,{style:{marginRight:"1em",fontSize:"25px"},children:Object(a.jsxs)(be.c,{className:"nav-link",to:"/cart",children:[Object(a.jsx)(xe.c,{}),Object.keys(Q.cartItems).length>0?Object(a.jsx)("span",{style:{backgroundColor:"#dd0608",fontSize:"10px",position:"absolute",padding:"3px 6px",borderRadius:"50%",color:"#fff"},children:Object.keys(Q.cartItems).length}):null]})}),Object(a.jsx)(be.c,{to:"/",children:Object(a.jsx)(Oe.a.Brand,{style:{alignItems:"center",fontSize:"25px"},children:Object(a.jsxs)("i",{children:[Object(a.jsx)("b",{children:"ki2"}),"mart",Object(a.jsx)("span",{style:{fontSize:"14px"},children:".com"})]})})}),Object(a.jsx)(Oe.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"navbar-left"}),Object(a.jsxs)(Oe.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsx)(pe.a,{className:"mr-auto"}),Object(a.jsxs)(pe.a,{children:[q.authenticate?Object(a.jsx)(pe.a,{className:"nav-link",children:Object(a.jsxs)("i",{onClick:function(){return D(!0)},children:["Hello ",q.user.firstName]})}):Object(a.jsx)(pe.a,{className:"nav-link",style:{cursor:"pointer"},onClick:function(){f(!0),y(!1)},children:"Sign in"}),Object(a.jsx)(pe.a,{className:"nav-link",children:"Sign up"}),Object(a.jsx)(be.c,{to:"/category",className:"nav-link",children:"Category"}),Object(a.jsx)(be.c,{to:"/account/orders",className:"nav-link",children:"Orders"})]})]})]})})},Ce=c(131),ke=c(127),Ie=c(128),Te=(c(110),c(129));Ce.a.use([ke.a,Ie.a]);var Ae=function(e){var t=Object(p.c)((function(e){return e.category})),c=Object(p.b)();Object(r.useEffect)((function(){c(je())}),[]);return Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{style:{marginTop:"65px"},children:[Object(a.jsx)("h4",{children:"SHOP BY CATEGORIES"}),t.loading&&Object(a.jsx)("div",{children:"loading"}),Object(a.jsx)(O.a,{children:t.categories.length>0?function(e){if(e)return e.map((function(e){return console.log(e),Object(a.jsx)(j.a,{xs:12,sm:6,md:4,lg:3,children:Object(a.jsx)("a",{href:"/product/".concat(e.slug),children:Object(a.jsx)(Te.a,{src:"./images/".concat(e.name,".png"),thumbnail:!0})})})}))}(t.categories):null})]})})},Ue=(c(111),function(e){var t=Object(p.c)((function(e){return e.product})),c=Object(p.c)((function(e){return e.cart})),n=Object(p.b)();Object(r.useEffect)((function(){console.log(e);var t,c=e.match;n((t=c.params.slug,function(){var e=Object(m.a)(x.a.mark((function e(c){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:D}),e.next=4,de.get("/products/".concat(t));case 4:200===(a=e.sent).status&&c({type:C,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return Object(a.jsxs)(he,{children:[Object(a.jsx)(ue,{}),Object(a.jsxs)(o.a,{fluid:!0,style:{backgroundColor:"#fff"},children:[Object(a.jsx)(be.b,{to:"/category",children:Object(a.jsx)("h3",{children:e.match.params.slug})}),Object(a.jsxs)(O.a,{children:[t.loading&&Object(a.jsx)("div",{children:"loding..."}),t.products?function(e){var t,r=[],s=Object(V.a)(e);try{var i=function(){var e=t.value,s=Object.keys(c.cartItems).filter((function(t){return c.cartItems[t]._id==e._id}));console.log(s),r.push(Object(a.jsx)(j.a,{md:6,sm:12,lg:4,children:Object(a.jsx)("div",{className:"text-left product-box",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{xs:5,md:4,sm:4,lg:4,children:Object(a.jsx)(Te.a,{className:"img-thumbnail",src:ie(e.productPictures[0].img),alt:"".concat(e.name," image"),thumbnail:!0})}),Object(a.jsxs)(j.a,{xs:7,md:8,sm:8,lg:8,children:[Object(a.jsx)("div",{className:"product__name",children:e.name}),Object(a.jsxs)("div",{style:{lineHeight:"40px"},children:[Object(a.jsxs)("span",{className:"product__name",children:["\u20b9 ",e.price]}),e.quantity>e.price?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)("span",{className:"product__info",children:[" ",Object(a.jsxs)("del",{children:["\u20b9",e.quantity]})," "]}),Object(a.jsxs)("span",{className:"product__info2",children:["(",Math.round((e.quantity-e.price)/e.quantity*100),"% OFF)"]})]}):null]}),Object(a.jsx)("div",{children:s.length>0?Object(a.jsx)("button",{style:{backgroundColor:"#fb641b",border:"none",color:"#fff"},children:"Added To Cart"}):Object(a.jsx)("button",{style:{backgroundColor:"#00a100",border:"none",color:"#fff"},onClick:function(){var t=e._id,c=e.name,a=e.price,r=e.quantity,s=e.productPictures[0].img;n(Re({_id:t,name:c,price:a,quantity:r,img:s}))},children:"Add to Cart"})})]})]})})},e._id))};for(s.s();!(t=s.n()).done;)i()}catch(o){s.e(o)}finally{s.f()}return r}(t.products):Object(a.jsx)("h1",{children:"No Products for this Category"})]})]})]})}),Ne=function(e){return Object(a.jsx)(he,{children:Object(a.jsxs)(o.a,{fluid:!0,style:{marginTop:"100px",backgroundColor:"#fff"},children:[Object(a.jsxs)(l.a,{children:[Object(a.jsxs)(l.a.Item,{children:[Object(a.jsx)("img",{className:"d-block w-100",src:"./images/slides.jpg",alt:"First slide",height:"450px"}),Object(a.jsxs)(l.a.Caption,{children:[Object(a.jsx)("h3",{children:"First slide label"}),Object(a.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),Object(a.jsxs)(l.a.Item,{children:[Object(a.jsx)("img",{className:"d-block w-100",src:"./images/slides.jpg",alt:"Third slide",height:"450px"}),Object(a.jsxs)(l.a.Caption,{children:[Object(a.jsx)("h3",{children:"Second slide label"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),Object(a.jsxs)(l.a.Item,{children:[Object(a.jsx)("img",{className:"d-block w-100",src:"./images/slides.jpg",alt:"Third slide",height:"450px"}),Object(a.jsxs)(l.a.Caption,{children:[Object(a.jsx)("h3",{children:"Third slide label"}),Object(a.jsx)("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]}),Object(a.jsx)(Ae,{})]})})},we=c(15),Le=(c(112),function(e){var t=Object(r.useState)(e.cartItem.qty),c=Object(d.a)(t,2),n=c[0],s=c[1],i=e.cartItem,o=i._id,l=i.name,u=i.price,b=i.quantity,h=i.img,x=Object(p.c)((function(e){return e.auth}));return Object(a.jsxs)(O.a,{style:{padding:"4px 0px"},children:[Object(a.jsxs)(j.a,{xs:5,md:4,sm:4,lg:2,className:"text-center",style:{borderBottom:"1px solid rgba(0,0,0,.1)",padding:"4px 0px"},children:[Object(a.jsx)(Te.a,{className:"img-thumbnail",src:ie(h),thumbnail:!0}),x.authenticate?Object(a.jsx)("div",{onClick:function(){return e.onRemoveCartItem(o)},style:{fontSize:"12px"},children:"Remove"}):null]}),Object(a.jsxs)(j.a,{xs:7,md:8,sm:8,lg:10,style:{borderBottom:"1px solid rgba(0,0,0,.1)",padding:"4px 0px"},children:[Object(a.jsx)("div",{style:{lineHeight:"25px"},className:"product__name",children:l}),Object(a.jsxs)("div",{style:{lineHeight:"25px"},children:[Object(a.jsxs)("span",{className:"product__name",children:["\u20b9 ",u*n]}),Object(a.jsxs)("span",{className:"product__info",children:[" ","(",Object(a.jsx)("del",{children:Object(a.jsxs)("i",{children:["\u20b9 ",b*n]})}),")"," "]}),Object(a.jsxs)("span",{className:"product__info1",children:["(",Math.round((b-u)/b*100),"% OFF)"]})]}),Object(a.jsxs)("div",{className:"text-right",children:[Object(a.jsx)(xe.d,{style:{fontSize:"24px",cursor:"pointer",color:"darkred"},onClick:function(){n<=1||(s(n-1),e.onQuantityDec(o,n-1))}})," ",Object(a.jsxs)("span",{children:[n," "," "]}),Object(a.jsx)(xe.a,{style:{fontSize:"24px",cursor:"pointer",color:"darkgreen"},onClick:function(){s(n+1),e.onQuantityInc(o,n+1)}})]})]})]})}),Ge=c(130),Fe=function(e){return Object(a.jsxs)(Ge.a,{size:"sm",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("h5",{children:"Payment Details"})}),Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:["Price (",e.totalItem," items)"]}),Object(a.jsxs)("td",{children:["\u20b9",e.totalMrp]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Discount"}),Object(a.jsxs)("td",{children:["-\u20b9",e.totalMrp-e.totalPrice]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Delivery Charges"}),e.totalPrice>499?Object(a.jsx)("td",{style:{color:"#00a100"},children:"FREE"}):Object(a.jsx)("td",{children:"+ \u20b918"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Total Payable Amount"})}),e.totalPrice>499?Object(a.jsx)("td",{children:Object(a.jsxs)("b",{children:["\u20b9",e.totalPrice]})}):Object(a.jsx)("td",{children:Object(a.jsxs)("b",{children:["\u20b9",e.totalPrice+18]})})]}),Object(a.jsx)("tr",{style:{textAlign:"end"},children:Object(a.jsx)("td",{colSpan:"2",style:{color:"#00a100"},children:Object(a.jsxs)("b",{children:["you save \u20b9",e.totalMrp-e.totalPrice]})})})]})]})},Pe=(c(113),function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),u=l[0],b=l[1],h=Object(r.useState)(!1),f=Object(d.a)(h,2),g=f[0],S=f[1],E=Object(r.useState)(!1),y=Object(d.a)(E,2),v=y[0],_=y[1],R=Object(r.useState)(""),D=Object(d.a)(R,2),C=D[0],k=D[1],I=Object(r.useState)(""),T=Object(d.a)(I,2),A=T[0],U=T[1],N=Object(r.useState)(null),w=Object(d.a)(N,2),L=(w[0],w[1],Object(p.c)((function(e){return e.auth})));Object(r.useEffect)((function(){L.authenticate&&S(!1)}),[L.authenticate]);var G=Object(p.c)((function(e){return e.cart})),F=Object(r.useState)(G.cartItems),P=Object(d.a)(F,2),q=P[0],Q=P[1],M=Object(p.b)();Object(r.useEffect)((function(){Q(G.cartItems)}),[G.cartItems]),Object(r.useEffect)((function(){L.authenticate&&M(_e())}),[L.authenticate]);var Y=function(e,t){var c=q[e],a=c.name,r=c.price,n=c.quantity,s=c.img;M(Re({_id:e,name:a,price:r,quantity:n,img:s},1))},W=function(e,t){var c=q[e],a=c.name,r=c.price,n=c.quantity,s=c.img;M(Re({_id:e,name:a,price:r,quantity:n,img:s},-1))},J=function(e){var t;M((t={productId:e},function(){var e=Object(m.a)(x.a.mark((function e(c){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:z}),e.next=4,de.post("/user/cart/removeItem",{payload:t});case 4:202===(a=e.sent).status?(c({type:H}),c(_e())):(r=a.data.error,c({type:B,payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};if(e.onlyCartItems)return Object(a.jsx)(a.Fragment,{children:Object.keys(q).map((function(e,t){return Object(a.jsx)(Le,{cartItem:q[e],onQuantityInc:Y,onQuantityDec:W,onRemoveCartItem:J},t)}))});return Object(a.jsx)(he,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(fe,{show:g,onHide:function(){return S(!1)},modalTitle:v?"Register":"Login",children:Object(a.jsxs)("div",{style:{padding:"0px 5px"},children:[v&&Object(a.jsx)(ge,{type:"text",label:"First Name",error:"",value:C,onChange:function(e){return k(e.target.value)}}),v&&Object(a.jsx)(ge,{type:"text",label:"Last Name",error:"",value:A,onChange:function(e){return U(e.target.value)}}),Object(a.jsx)(ge,{type:"email",label:"Email Address",error:"",value:n,onChange:function(e){return s(e.target.value)}}),Object(a.jsx)(ge,{type:"password",label:"Password",error:"",value:u,onChange:function(e){return b(e.target.value)}}),Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[L.error&&Object(a.jsx)("div",{style:{color:"red",fontSize:12},children:L.error}),Object(a.jsx)(Se,{title:v?"REGISTER":"LOGIN",onClick:function(){v?function(){var e={firstName:C,lastName:A,email:n,password:u};console.log(e),M(ye(e))}():M(ve({email:n,password:u}))}})]}),v?null:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{children:"New Customer"}),Object(a.jsx)("button",{onClick:function(){return _(!0)},children:"create new account"})]})]})}),Object(a.jsx)("div",{style:{marginTop:"70px"}}),Object.keys(q).length>0?Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{xs:12,sm:12,md:8,lg:8,style:{marginTop:"5px"},children:Object(a.jsxs)("div",{className:"grocery__basket",children:[Object(a.jsx)("h5",{children:"Groceries Basket"}),Object(a.jsx)("hr",{}),Object.keys(q).map((function(e,t){return Object(a.jsx)(Le,{cartItem:q[e],onQuantityInc:Y,onQuantityDec:W,onRemoveCartItem:J},t)}))]})}),Object(a.jsxs)(j.a,{xs:12,sm:12,md:4,lg:4,style:{marginTop:"5px"},children:[Object(a.jsx)("div",{className:"grocery__basket",children:Object(a.jsx)(Fe,{totalItem:Object.keys(q).reduce((function(e,t){return e+q[t].qty}),0),totalPrice:Object.keys(q).reduce((function(e,t){var c=q[t];return e+c.price*c.qty}),0),totalMrp:Object.keys(q).reduce((function(e,t){var c=q[t];return e+c.quantity*c.qty}),0)})}),Object(a.jsx)("div",{style:{marginTop:"5px"},children:Object(a.jsx)(Se,{title:"PLACE ORDER",onClick:function(){L.authenticate?e.history.push("/checkout"):(S(!0),_(!1))}})})]})]}):Object(a.jsx)("h3",{children:"No Item Added To Cart"})]})})}),qe=(c(114),function(e){return Object(a.jsx)("button",Object(J.a)(Object(J.a)({},e),{},{className:"anchorButton",children:e.name}))}),Qe=(c(115),function(e){return Object(a.jsx)("div",{style:Object(J.a)({width:"100%"},e.style),children:Object(a.jsxs)("button",{className:"materialButton",style:{backgroundColor:e.bgColor,color:e.textColor,fontSize:e.fontSize},onClick:function(){e.onClick&&e.onClick()},children:[e.icon&&e.icon,e.title&&e.title]})})}),Me=(c(68),function(e){var t=e.initialData,c=Object(r.useState)(t?t.name:""),n=Object(d.a)(c,2),s=n[0],i=n[1],o=Object(r.useState)(t?t.mobileNumber:""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(r.useState)(t?t.pinCode:473331),O=Object(d.a)(b,2),h=O[0],f=(O[1],Object(r.useState)(t?t.locality:"")),g=Object(d.a)(f,2),S=g[0],E=g[1],y=Object(r.useState)(t?t.address:""),v=Object(d.a)(y,2),_=v[0],R=v[1],D=Object(r.useState)(t?t.cityDistrictTown:"Ashoknagar"),C=Object(d.a)(D,2),k=C[0],I=(C[1],Object(r.useState)(t?t.state:"Madhya Pradesh")),T=Object(d.a)(I,2),A=T[0],U=(T[1],Object(r.useState)(t?t.landmark:"")),N=Object(d.a)(U,2),w=N[0],L=N[1],G=Object(r.useState)(t?t.alternatePhone:""),F=Object(d.a)(G,2),P=F[0],q=F[1],Q=Object(r.useState)(t?t.addressType:""),M=Object(d.a)(Q,2),z=M[0],H=M[1],B=Object(p.b)(),W=Object(p.c)((function(e){return e.user})),J=Object(r.useState)(!1),V=Object(d.a)(J,2),K=V[0],X=V[1],Z=Object(r.useState)(t?t._id:""),$=Object(d.a)(Z,2),ee=$[0],te=($[1],{width:"fit-content",marginRight:10}),ce=function(e){var t={address:{name:s,mobileNumber:j,pinCode:h,locality:S,address:_,cityDistrictTown:k,state:A,landmark:w,alternatePhone:P,addressType:z}};console.log(t),ee&&(t.address._id=ee),B(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var a,r,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/user/address/create",{payload:e});case 3:a=t.sent,c({type:Y.ADD_USER_ADDRESS_REQUEST}),201===a.status?(console.log(a),r=a.data.address.address,c({type:Y.ADD_USER_ADDRESS_SUCCESS,payload:{address:r}})):(n=a.data.error,c({type:Y.ADD_USER_ADDRESS_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)),X(!0)};Object(r.useEffect)((function(){if(console.log("addressCount",W.address),K){console.log("where are we",W);var t={};t=ee?{_id:ee,name:s,mobileNumber:j,pinCode:h,locality:S,address:_,cityDistrictTown:k,state:A,landmark:w,alternatePhone:P,addressType:z}:W.address.slice(W.address.length-1)[0],e.onSubmitForm(t)}}),[W.address]);var ae=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Full Name*",value:s,error:"Required",onChange:function(e){return i(e.target.value)}})}),Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Phone number*",value:j,error:"Required",onChange:function(e){return u(e.target.value)}})}),Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Pincode",readOnly:"true",error:"",value:h})}),Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"House No., BuildingName*",value:S,error:"Required",onChange:function(e){return E(e.target.value)}})})]}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Road name, Area, Colony*",value:_,error:"Required",onChange:function(e){return R(e.target.value)}})})}),Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"City*",readOnly:"true",error:"",value:k})}),Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"State",readOnly:"true",error:"",value:A})})]}),Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Landmark",value:w,error:"",onChange:function(e){return L(e.target.value)}})}),Object(a.jsx)("div",{style:te,children:Object(a.jsx)(ge,{label:"Alternate Phone",value:P,error:"",onChange:function(e){return q(e.target.value)}})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{style:{marginTop:"20px"},children:"Address Type*"}),Object(a.jsxs)("div",{className:"flexRow",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"radio",onClick:function(){return H("home")},name:"addressType",value:"home"}),Object(a.jsx)("span",{children:"Home"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"radio",onClick:function(){return H("work")},name:"addressType",value:"work"}),Object(a.jsx)("span",{children:"Work"})]})]})]}),Object(a.jsx)("div",{className:"flexRow",children:""===s||j.length<10||""===S||""===_||""===z?Object(a.jsx)(Se,{title:"SAVE AND DELIVER HERE",bgColor:"gray",style:{width:"250px",margin:"20px 0"}}):Object(a.jsx)(Se,{title:"SAVE AND DELIVER HERE",onClick:ce,style:{width:"250px",margin:"20px 0"}})})]})};return e.withoutLayout?Object(a.jsx)("div",{children:ae()}):Object(a.jsxs)("div",{className:"checkoutStep",style:{background:"#f5faff"},children:[Object(a.jsx)("div",{className:"checkoutHeader",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"stepNumber",children:"+"}),Object(a.jsx)("span",{className:"stepTitle",children:"ADD NEW ADDRESS"})]})}),Object(a.jsx)("div",{style:{padding:"0 60px",paddingBottom:"20px",boxSizing:"border-box"},children:ae()})]})}),ze=function(e){return Object(a.jsxs)("div",{className:"checkoutStep",children:[Object(a.jsx)("div",{onClick:e.onClick,className:"checkoutHeader ".concat(e.active&&"active"),children:Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"stepNumber",children:e.stepNumber}),Object(a.jsx)("span",{className:"stepTitle",children:e.title})]})}),e.body&&e.body]})},He=function(e){var t=e.adr,c=e.selectAddress,r=e.enableAddressEditForm,n=e.confirmDeliveryAddress,s=e.onAddressSubmit;return Object(a.jsxs)("div",{className:"flexRow addressContainer",children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",{name:"address",onClick:function(){return c(t)},type:"radio"})}),Object(a.jsx)("div",{className:"flexRow sb addressinfo",children:t.edit?Object(a.jsx)(Me,{withoutLayout:!0,onSubmitForm:s,initialData:t,onCancel:function(){}}):Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsxs)("div",{className:"addressDetail",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"addressName",children:t.name}),Object(a.jsx)("span",{className:"addressType",children:t.addressType}),Object(a.jsx)("span",{className:"addressMobileNumber",children:t.mobileNumber})]}),t.selected&&Object(a.jsx)(qe,{name:"EDIT",onClick:function(){return r(t)},style:{fontWeight:"500",color:"#2874f0"}})]}),Object(a.jsxs)("div",{className:"fullAddress",children:[t.address," ",Object(a.jsx)("br",{})," ","".concat(t.state," - ").concat(t.pinCode)]}),t.selected&&Object(a.jsx)(Qe,{title:"DELIVERY HERE",onClick:function(){return n(t)},style:{width:"200px",margin:"10px 0"}})]})})]})},Be=function(e){var t=Object(p.c)((function(e){return e.user})),c=Object(p.c)((function(e){return e.auth})),n=Object(r.useState)(!1),s=Object(d.a)(n,2),i=s[0],l=s[1],u=Object(r.useState)([]),b=Object(d.a)(u,2),h=b[0],f=b[1],g=Object(r.useState)(!1),S=Object(d.a)(g,2),E=S[0],y=S[1],v=Object(r.useState)(null),_=Object(d.a)(v,2),R=_[0],D=_[1],C=Object(r.useState)(!1),k=Object(d.a)(C,2),I=k[0],T=k[1],A=Object(r.useState)(!1),U=Object(d.a)(A,2),N=U[0],w=U[1],L=Object(r.useState)(!1),G=Object(d.a)(L,2),F=G[0],P=G[1],q=Object(r.useState)(!1),Q=Object(d.a)(q,2),M=Q[0],z=Q[1],H=Object(p.c)((function(e){return e.cart})),B=Object(p.b)(),W=function(e){D(e),y(!0),T(!0)},V=function(e){var t=h.map((function(t){return t._id===e._id?Object(J.a)(Object(J.a)({},t),{},{selected:!0}):Object(J.a)(Object(J.a)({},t),{},{selected:!1})}));f(t)},K=function(e){D(e),y(!0),T(!0)},X=function(e){var t=h.map((function(t){return t._id===e._id?Object(J.a)(Object(J.a)({},t),{},{edit:!0}):Object(J.a)(Object(J.a)({},t),{},{edit:!1})}));f(t)};return Object(r.useEffect)((function(){c.authenticate&&B(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.post("/user/getaddress");case 3:c=e.sent,t({type:Y.GET_USER_ADDRESS_REQUEST}),200===c.status?(a=c.data.userAddress.address,t({type:Y.GET_USER_ADDRESS_SUCCESS,payload:{address:a}})):(r=c.data.error,t({type:Y.GET_USER_ADDRESS_FAILURE,payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),c.authenticate&&B(_e())}),[c.authenticate]),Object(r.useEffect)((function(){var e=t.address.map((function(e){return Object(J.a)(Object(J.a)({},e),{},{selected:!1,edit:!1})}));f(e)}),[t.address]),Object(r.useEffect)((function(){M&&t.placedOrderId&&e.history.push("/order_details/".concat(t.placedOrderId))}),[t.placedOrderId]),Object(a.jsx)(he,{children:Object(a.jsx)(o.a,{style:{marginTop:"75px"},children:Object(a.jsxs)(O.a,{className:"cartContainer",style:{alignItems:"flex-start"},children:[Object(a.jsxs)(j.a,{xs:12,sm:12,md:8,lg:8,className:"checkoutContainer",children:[Object(a.jsx)(ze,{stepNumber:"1",title:"DELIVERY ADDRESS",active:!E&&c.authenticate,body:Object(a.jsx)(a.Fragment,{children:E?Object(a.jsx)("div",{className:"stepCompleted",children:"".concat(R.name," ").concat(R.address," - ").concat(R.pinCode)}):h.map((function(e){return Object(a.jsx)(He,{selectAddress:V,enableAddressEditForm:X,confirmDeliveryAddress:K,onAddressSubmit:W,adr:e})}))})}),E?null:i?Object(a.jsx)(Me,{onSubmitForm:W,onCancel:function(){}}):c.authenticate?Object(a.jsx)(ze,{stepNumber:"+",title:"ADD NEW ADDRESS",active:!1,onClick:function(){return l(!0)}}):null,Object(a.jsx)(ze,{stepNumber:"2",title:"ORDER SUMMARY",active:I,body:I?Object(a.jsx)(o.a,{children:Object(a.jsx)(Pe,{onlyCartItems:!0})}):N?Object(a.jsxs)("div",{className:"stepCompleted",children:[Object.keys(H.cartItems).length," items"]}):null}),I&&Object(a.jsx)("div",{style:{margin:"10px 0",backgroundColor:"#fff"},children:Object(a.jsxs)("div",{className:"flexRow sb",style:{padding:"20px",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{fontSize:"12px"},children:["Order confirmation sms/call will be sent to"," ",Object(a.jsx)("strong",{children:R.mobileNumber})]}),Object(a.jsx)(Qe,{title:"CONTINUE",onClick:function(){Object.keys(H.cartItems).reduce((function(e,t){return e+H.cartItems[t].qty}),0)&&(w(!0),T(!1),P(!0))},style:{width:"200px"}})]})}),Object(a.jsx)(ze,{stepNumber:"3",title:"PAYMENT OPTIONS",active:F,body:F&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"flexRow",style:{alignItems:"center",padding:"20px"},children:Object(a.jsx)("div",{children:"Cash on delivery"})}),Object(a.jsx)(Qe,{title:"CONFIRM ORDER",onClick:function(){var e=Object.keys(H.cartItems).reduce((function(e,t){var c=H.cartItems[t];return e+c.price*c.qty}),0);e>499?e=e:e+=18;var t=Object.keys(H.cartItems).map((function(e){return{productId:e,payablePrice:H.cartItems[e].price,purchasedQty:H.cartItems[e].qty}})),c=Object.keys(H.cartItems).reduce((function(e,t){var c=H.cartItems[t];return e+c.quantity*c.qty}),0),a={addressId:R._id,totalAmount:e,totalMrp:c,items:t,paymentStatus:"pending",paymentType:"cod"};console.log(a),B(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var a,r,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/addOrder",e);case 3:a=t.sent,c({type:Y.ADD_USER_ORDER_REQUEST}),201===a.status?(console.log(a),r=a.data.order,c({type:Y.ADD_USER_ORDER_SUCCESS,payload:{order:r}})):(n=a.data.error,c({type:Y.ADD_USER_ORDER_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(a)),z(!0)},style:{width:"200px",margin:"0 0 20px 20px"}})]})})]}),Object(a.jsx)(j.a,{xs:12,sm:12,md:4,lg:4,style:{backgroundColor:"#fff"},className:"addressContainer",children:Object(a.jsx)(Fe,{totalItem:Object.keys(H.cartItems).reduce((function(e,t){return e+H.cartItems[t].qty}),0),totalPrice:Object.keys(H.cartItems).reduce((function(e,t){var c=H.cartItems[t];return e+c.price*c.qty}),0),totalMrp:Object.keys(H.cartItems).reduce((function(e,t){var c=H.cartItems[t];return e+c.quantity*c.qty}),0)})})]})})})},Ye=(c(116),function(e){return Object(a.jsxs)("div",Object(J.a)(Object(J.a)({className:"card"},e),{},{children:[(e.headerLeft||e.headerRight)&&Object(a.jsxs)("div",{className:"cardHeader",children:[e.headerLeft&&Object(a.jsx)("div",{style:{alignSelf:"center",fontSize:"20px",fontWeight:"500"},children:e.headerLeft}),e.headerRight&&e.headerRight]}),e.children]}))}),We=(c(117),function(e){var t=Object(p.b)(),c=Object(p.c)((function(e){return e.user})),n=function(e){if(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}return""};return Object(r.useEffect)((function(){t(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.get("/getOrders");case 3:c=e.sent,t({type:Y.GET_USER_ORDER_REQUEST}),200===c.status?(console.log(c),a=c.data.orders,t({type:Y.GET_USER_ORDER_SUCCESS,payload:{orders:a}})):(r=c.data.error,t({type:Y.GET_USER_ORDER_FAILURE,payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),console.log(c),Object(a.jsx)(he,{children:Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{style:{maxWidth:"1160px",marginTop:"75px"},children:[Object(a.jsx)(Ee,{breed:[{name:"Home",href:"/"},{name:"My Account",href:"/account"},{name:"My Orders",href:"/account/orders"}],breedIcon:Object(a.jsx)(xe.b,{})}),c.orders.map((function(e){return Object(a.jsx)(Ye,{style:{margin:"5px 0",padding:"5px 10px"},children:Object(a.jsx)(be.b,{to:"/order_details/".concat(e._id),children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:"Ordered on ".concat(n(e.orderStatus[0].date))}),Object(a.jsxs)(j.a,{xs:12,sm:6,md:6,lg:3,children:["\u20b9 ",e.totalAmount,"(",e.items.length," items)--"]}),Object(a.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:"CASH ON DELIVERY"}),Object(a.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:e.orderStatus[3].isCompleted&&"Delivered on ".concat(n(e.orderStatus[3].date))})]})})})}))]})})})}),Je=c(74),Ve=function(e){return Object(a.jsxs)("div",{style:{fontSize:e.fontSize?e.fontSize:"14px",fontWeight:"bold",margin:"5px 0"},children:[Object(a.jsx)(Je.a,{}),e.value]})},Ke=(c(118),function(e){var t=Object(p.b)(),c=Object(p.c)((function(e){return e.user.orderDetails}));Object(r.useEffect)((function(){console.log({props:e});var c={orderId:e.match.params.orderId};console.log(c),t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var a,r,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/getOrder",e);case 3:a=t.sent,c({type:Y.GET_USER_ORDER_DETAILS_REQUEST}),200===a.status?(console.log(a),r=a.data.order,c({type:Y.GET_USER_ORDER_DETAILS_SUCCESS,payload:{order:r}})):(n=a.data.error,c({type:Y.GET_USER_ORDER_DETAILS_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[]);var n=function(e){if(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}return""};return c&&c.address?Object(a.jsx)(he,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(Ye,{style:{margin:"10px 0"},children:Object(a.jsx)("div",{className:"delAdrContainer",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{xs:12,sm:12,md:6,lg:6,children:Object(a.jsxs)("div",{className:"delAdrDetails",children:[Object(a.jsx)("div",{className:"delTitle",children:"Delivery Address"}),Object(a.jsxs)("div",{className:"delName",children:[c.address.name," ",c.address.addressType]}),Object(a.jsxs)("div",{className:"delAddress",children:[c.address.locality,", ",c.address.address]}),Object(a.jsx)("div",{className:"delAddress"}),Object(a.jsx)("div",{className:"delPhoneNumber",children:c.address.mobileNumber})]})}),Object(a.jsx)(j.a,{xs:12,sm:12,md:6,lg:6,children:Object(a.jsxs)("div",{className:"delMoreActionContainer",children:[Object(a.jsx)("div",{style:{padding:"25px 30px"},children:Object(a.jsx)("div",{className:"orderTrack",children:c.orderStatus.map((function(e){return Object(a.jsxs)("div",{className:"orderStatus ".concat(e.isCompleted?"active":""),children:[Object(a.jsx)("div",{className:"point ".concat(e.isCompleted?"active":"")}),Object(a.jsxs)("div",{className:"orderInfo",children:[Object(a.jsx)("div",{className:"status",children:e.type}),Object(a.jsx)("div",{className:"date",children:n(e.date)})]})]})}))})}),Object(a.jsx)("div",{style:{marginTop:"10px",fontWeight:"500",fontSize:14},children:c.orderStatus[3].isCompleted&&"Delivered on ".concat(function(e){if(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}}(c.orderStatus[3].date))})]})})]})})}),Object(a.jsx)(O.a,{children:c.items.map((function(e,t){return Object(a.jsx)(j.a,{xs:12,sm:12,md:6,lg:4,children:Object(a.jsx)(Ye,{style:{display:"flex",padding:"20px 0",margin:"10px 0"},children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{xs:4,sm:4,md:4,lg:4,className:"delItemImgContainer",children:Object(a.jsx)("img",{src:ie(e.productId.productPictures[0].img),alt:e.productId.name})}),Object(a.jsxs)(j.a,{xs:8,sm:8,md:8,lg:8,children:[Object(a.jsx)("div",{className:"delItemName",children:e.productId.name}),Object(a.jsx)(Ve,{value:e.payablePrice}),Object(a.jsx)("div",{children:e.purchasedQty})]})]})})})}))})]})}):null});var Xe=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.auth}));return Object(r.useEffect)((function(){t.authenticate||e(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=localStorage.getItem("token"))?(a=JSON.parse(localStorage.getItem("user")),t({type:A,payload:{token:c,user:a}})):t({type:T,payload:{error:""}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(r.useEffect)((function(){console.log("App.js - updateCart"),e(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,a,r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=se.getState(),a=c.auth,r=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):null,console.log("upppppppppp"),!a.authenticate){e.next=17;break}if(localStorage.removeItem("cart"),!r){e.next=14;break}if(n={cartItems:Object.keys(r).map((function(e,t){return{quantity:r[e].qty,product:r[e]._id}}))},!(Object.keys(r).length>0)){e.next=12;break}return e.next=10,de.post("/user/cart/addtocart",n);case 10:201===e.sent.status&&t(_e());case 12:e.next=15;break;case 14:t(_e());case 15:e.next=18;break;case 17:r&&t({type:q,payload:{cartItems:r}});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(a.jsx)("div",{children:Object(a.jsx)(be.a,{children:Object(a.jsxs)(we.c,{children:[Object(a.jsx)(we.a,{path:"/cart",component:Pe}),Object(a.jsx)(we.a,{path:"/order_details/:orderId",component:Ke}),Object(a.jsx)(we.a,{path:"/account/orders",component:We}),Object(a.jsx)(we.a,{path:"/product/:slug",component:Ue}),Object(a.jsx)(we.a,{path:"/checkout",component:Be}),Object(a.jsx)(we.a,{path:"/category",component:Ae}),Object(a.jsx)(we.a,{exact:!0,path:"/",component:Ne})]})})})},Ze=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,136)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};window.store=se,i.a.render(Object(a.jsx)(p.a,{store:se,children:Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(Xe,{})})}),document.getElementById("root")),Ze()},68:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.ce25c55f.chunk.js.map