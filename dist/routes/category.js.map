{"version":3,"sources":["../../src/routes/category.js"],"names":["express","require","requireSignin","adminMiddleware","addCategory","getCategories","router","Router","shortid","path","multer","storage","diskStorage","destination","req","file","cb","join","dirname","__dirname","filename","generate","originalname","upload","post","single","get","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;eAC2CA,QAAQ,sBAAR,C;IAAnCC,a,YAAAA,a;IAAeC,e,YAAAA,e;;gBACgBF,QAAQ,wBAAR,C;IAA/BG,W,aAAAA,W;IAAaC,a,aAAAA,a;;AACrB,IAAMC,SAASN,QAAQO,MAAR,EAAf;AACA,IAAMC,UAAUP,QAAQ,SAAR,CAAhB;AACA,IAAMQ,OAAOR,QAAQ,MAAR,CAAb;AACA,IAAMS,SAAST,QAAQ,QAAR,CAAf;;AAEA,IAAMU,UAAUD,OAAOE,WAAP,CAAmB;AAC/BC,eAAa,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,OAAG,IAAH,EAASP,KAAKQ,IAAL,CAAUR,KAAKS,OAAL,CAAaC,SAAb,CAAV,EAAmC,SAAnC,CAAT;AACD,GAH8B;AAI/BC,YAAU,kBAAUN,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,OAAG,IAAH,EAASR,QAAQa,QAAR,KAAqB,GAArB,GAA2BN,KAAKO,YAAzC;AACD;AAN8B,CAAnB,CAAhB;;AASA,IAAMC,SAASb,OAAO,EAAEC,gBAAF,EAAP,CAAf;;AAEAL,OAAOkB,IAAP,CAAY,kBAAZ,EAAgCtB,aAAhC,EAA+CC,eAA/C,EAAgEoB,OAAOE,MAAP,CAAc,eAAd,CAAhE,EAAgGrB,WAAhG;AACAE,OAAOoB,GAAP,CAAW,uBAAX,EAAoCrB,aAApC;;AAGAsB,OAAOC,OAAP,GAAiBtB,MAAjB","file":"category.js","sourcesContent":["const express = require('express');\r\nconst { requireSignin, adminMiddleware } = require('../common-middleware');\r\nconst { addCategory, getCategories } = require('../controller/category');\r\nconst router = express.Router();\r\nconst shortid = require('shortid');\r\nconst path = require('path');\r\nconst multer = require('multer');\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, path.join(path.dirname(__dirname), 'uploads'))\r\n    },\r\n    filename: function (req, file, cb) {\r\n      cb(null, shortid.generate() + '-' + file.originalname)\r\n    }\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\nrouter.post('/category/create', requireSignin, adminMiddleware, upload.single('categoryImage'), addCategory)\r\nrouter.get('/category/getcategory', getCategories)\r\n\r\n\r\nmodule.exports = router;"]}