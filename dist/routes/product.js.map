{"version":3,"sources":["../../src/routes/product.js"],"names":["express","require","requireSignin","adminMiddleware","createProduct","getProductsBySlug","getProductDetailsById","getProducts","multer","router","Router","shortid","path","storage","diskStorage","destination","req","file","cb","join","dirname","__dirname","filename","generate","originalname","upload","post","any","get","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA;;eAC2CA,QAAQ,sBAAR,C;IAAnCC,a,YAAAA,a;IAAeC,e,YAAAA,e;;gBAC0DF,QAAQ,uBAAR,C;IAAzEG,a,aAAAA,a;IAAeC,iB,aAAAA,iB;IAAmBC,qB,aAAAA,qB;IAAuBC,W,aAAAA,W;;AACjE,IAAMC,SAASP,QAAQ,QAAR,CAAf;AACA,IAAMQ,SAAST,QAAQU,MAAR,EAAf;AACA,IAAMC,UAAUV,QAAQ,SAAR,CAAhB;AACA,IAAMW,OAAOX,QAAQ,MAAR,CAAb;;AAEA,IAAMY,UAAUL,OAAOM,WAAP,CAAmB;AAC/BC,eAAa,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,OAAG,IAAH,EAASN,KAAKO,IAAL,CAAUP,KAAKQ,OAAL,CAAaC,SAAb,CAAV,EAAmC,SAAnC,CAAT;AACD,GAH8B;AAI/BC,YAAU,kBAAUN,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,OAAG,IAAH,EAASP,QAAQY,QAAR,KAAqB,GAArB,GAA2BN,KAAKO,YAAzC;AACD;AAN8B,CAAnB,CAAhB;;AASA,IAAMC,SAASjB,OAAO,EAAEK,gBAAF,EAAP,CAAf;;AAEAJ,OAAOiB,IAAP,CAAY,iBAAZ,EAA+BxB,aAA/B,EAA8CC,eAA9C,EAA+DsB,OAAOE,GAAP,CAAW,gBAAX,CAA/D,EAA6FvB,aAA7F;AACAK,OAAOmB,GAAP,CAAW,iBAAX,EAA8BvB,iBAA9B;AACA;AACA;AACA;;AAEAwB,OAAOC,OAAP,GAAiBrB,MAAjB","file":"product.js","sourcesContent":["const express = require('express');\r\n//const {  } = require('../controller/category');\r\nconst { requireSignin, adminMiddleware } = require('../common-middleware');\r\nconst { createProduct, getProductsBySlug, getProductDetailsById, getProducts } = require('../controller/product');\r\nconst multer = require('multer');\r\nconst router = express.Router();\r\nconst shortid = require('shortid');\r\nconst path = require('path');\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, path.join(path.dirname(__dirname), 'uploads'))\r\n    },\r\n    filename: function (req, file, cb) {\r\n      cb(null, shortid.generate() + '-' + file.originalname)\r\n    }\r\n})\r\n\r\nconst upload = multer({ storage });\r\n\r\nrouter.post('/product/create', requireSignin, adminMiddleware, upload.any('productPicture'), createProduct);\r\nrouter.get('/products/:slug', getProductsBySlug)\r\n//router.get('/category/getcategory', getCategories);\r\n// router.get('/product/:category', getProductDetailsById);\r\n// router.get('/getproducts',getProducts);\r\n\r\nmodule.exports = router;"]}